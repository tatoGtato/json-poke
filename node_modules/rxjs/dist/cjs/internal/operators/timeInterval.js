"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.TimeInterval = exports.timeInterval = void 0;
const async_1 = require("../scheduler/async");
const Observable_1 = require("../Observable");
const Subscriber_1 = require("../Subscriber");
function timeInterval(scheduler = async_1.asyncScheduler) {
    return (source) => new Observable_1.Observable((destination) => {
        let last = scheduler.now();
        source.subscribe((0, Subscriber_1.operate)({
            destination,
            next: (value) => {
                const now = scheduler.now();
                const interval = now - last;
                last = now;
                destination.next(new TimeInterval(value, interval));
            },
        }));
    });
}
exports.timeInterval = timeInterval;
class TimeInterval {
    value;
    interval;
    constructor(value, interval) {
        this.value = value;
        this.interval = interval;
    }
}
exports.TimeInterval = TimeInterval;
//# sourceMappingURL=timeInterval.js.map